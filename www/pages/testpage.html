<ons-page id="testpage"   class="page__background testpage-page" >
    <ons-toolbar style="background-color: #094860;" >
			<div class="left">
			  <ons-back-button style="color: aliceblue;">Back</ons-back-button>
			   </div>
			   <div class="center" style="color:rgb(255, 255, 255);text-align: center;margin-left: -49px;">Analog Outputs</div>
</ons-toolbar>
<div class="content-can">
	<div  style="display: block; text-align: center; margin-top: 40px;">
		<ons-card class="card-style-can">
			<div class="modify-me">
				<i class="fa-regular fa-pen-to-square"  onclick="editHeading('h4-1')" style="color: #737373;"></i>
			   </div>
         <div>
		<h4 id="h4-1" style=" font-family: 'Open Sans', sans-serif; font-weight: 978;font-size: 29px;color: #094860; margin-left: -281px;  position: left; margin-bottom: -7px;margin-top:-9px;">CH1</h4>
		

	</div>
			<div class="card-can-body">
				<input type="range" min="0" max="20" step="4" value="8" class="range-bar" id="myRangeBar">
				<div class="range-values">
				  <span class="range-value">0</span>
				  <span class="range-value">4</span>
				  <span class="range-value">8</span>
				  <span class="range-value">12</span>
				  <span class="range-value">16</span>
				  <span class="range-value">20</span>
				</div>
				<p class="range-value-text">Output <span contenteditable="true" class="out-can" id="range-value"> 
				</span></p>
		  </div>
		</ons-card>
		<ons-card class="card-style-can">
			<div class="modify-me">
				<i class="fa-regular fa-pen-to-square" onclick="editHeading('h4-2')" style="color: #737373;"></i>
			   </div>
			<h4 id="h4-2" style=" font-family: 'Open Sans', sans-serif;font-weight: 978;font-size: 29px;color: #094860;margin-left: -281px; position: left;margin-bottom: -7px;margin-top:-9px;">CH2</h4>
			   <div class="card-can-body">
				   <input type="range" min="0" max="20" step="4" value="8" class="range-bar" id="myRangeBar">
				   <div class="range-values">
					 <span class="range-value">0</span>
					 <span class="range-value">4</span>
					 <span class="range-value">8</span>
					 <span class="range-value">12</span>
					 <span class="range-value">16</span>
					 <span class="range-value">20</span>
				   </div>
				   <p class="range-value-text">Output <span contenteditable="true" class="out-can" id="range-value"> 
				   </span></p>
			 </div>
			</ons-card>
		   <ons-card class="card-style-can">
			<div class="modify-me">
				<i onclick="editHeading('h4-3')" class="fa-regular fa-pen-to-square" style="color: #737373;"></i>
			   </div>
			   <h4 id="h4-3" tyle=" font-family: 'Open Sans', sans-serif;font-weight: 978;font-size: 29px;color: #094860;margin-left: -281px; position: left;margin-bottom: -7px;margin-top:-9px;">CH2</h4>
			   <div class="card-can-body">
				   <input type="range" min="0" max="20" step="4" value="8" class="range-bar" id="myRangeBar">
				   <div class="range-values">
					 <span class="range-value">0</span>
					 <span class="range-value">4</span>
					 <span class="range-value">8</span>
					 <span class="range-value">12</span>
					 <span class="range-value">16</span>
					 <span class="range-value">20</span>
				   </div>
				   <p class="range-value-text">Output <span contenteditable="true" class="out-can" id="range-value"> 
				   </span></p>
			 </div>
		   </ons-card>
		   <ons-card class="card-style-can">
			<div class="modify-me">
				<i onclick="editHeading('h4-4')" class="fa-regular fa-pen-to-square" style="color: #737373;"></i>
			   </div>
			   <h4 id="h4-4" style=" font-family: 'Open Sans', sans-serif;font-weight: 978;font-size: 29px;color: #094860;margin-left: -281px; position: left;margin-bottom: -7px;margin-top:-9px;">CH2</h4>
			   <div class="card-can-body">
				   <input type="range" min="0" max="20" step="4" value="8" class="range-bar" id="myRangeBar">
				   <div class="range-values">
					 <span class="range-value">0</span>
					 <span class="range-value">4</span>
					 <span class="range-value">8</span>
					 <span class="range-value">12</span>
					 <span class="range-value">16</span>
					 <span class="range-value">20</span>
				   </div>
				   <p class="range-value-text">Output <span contenteditable="true" class="out-can" id="range-value">  
				   </span></p>
			 </div>
			</ons-card>
		   <ons-card class="card-style-can">
			<div class="modify-me">
				<i onclick="editHeading('h4-5')" class="fa-regular fa-pen-to-square" style="color: #737373;"></i>
			   </div>
			   <h4 id="h4-5" style=" font-family: 'Open Sans', sans-serif;font-weight: 978;font-size: 29px;color: #094860;margin-left: -281px; position: left;margin-bottom: -7px;margin-top:-9px;">CH2</h4>
			   <div class="card-can-body">
				   <input type="range" min="0" max="20" step="4" value="8" class="range-bar" id="myRangeBar">
				   <div class="range-values">
					 <span class="range-value">0</span>
					 <span class="range-value">4</span>
					 <span class="range-value">8</span>
					 <span class="range-value">12</span>
					 <span class="range-value">16</span>
					 <span class="range-value">20</span>
				   </div>
				   <p class="range-value-text">Output <span contenteditable="true" class="out-can" id="range-value">    
				   </span></p>
			 </div>
		   </ons-card>
		   <ons-card class="card-style-can">
			<div class="modify-me">
				<i onclick="editHeading('h4-6')" class="fa-regular fa-pen-to-square" style="color: #737373;"></i>
			   </div>
			   <h4 id="h4-6" style="font-family: 'Open Sans', sans-serif;font-weight: 978;font-size: 29px;color: #094860;margin-left: -281px; position: left;margin-bottom: -7px;margin-top:-9px;">CH2</h4>
			   <div class="card-can-body">
				   <input type="range" min="0" max="20" step="4" value="8" class="range-bar" id="myRangeBar">
				   <div class="range-values">
					 <span class="range-value">0</span>
					 <span class="range-value">4</span>
					 <span class="range-value">8</span>
					 <span class="range-value">12</span>
					 <span class="range-value">16</span>
					 <span class="range-value">20</span>
				   </div>
				   <p class="range-value-text">Output <span contenteditable="true"class="out-can" id="range-value"> 
				   </span></p>
			 </div>
		   </ons-card>
	</div>
  </div>

 <script> 
console.log("loading testpage");	 
ons.getScriptPage().onInit = function() {console.log("testpage onInit "); };       
 
var rangeBar = document.getElementById("myRangeBar");
var rangeValue = document.getElementById("range-value"); //get the element 
var rangeValues = document.querySelectorAll(".range-value");

rangeBar.addEventListener("input", function() {
  var thumbPosition = (rangeBar.value / rangeBar.max) * 100;
  var thumbWidth = 16; // width of the thumb element
  var rangeValuePosition = thumbPosition - thumbWidth / 2;
  
  // Set the position of each range value
  rangeValues.forEach(function(rangeValue, index) {
    rangeValue.style.left = (index * 100 / (rangeValues.length - 1)) + '%';
  });
  
  // Set the position of the range value div
  var rangeValueDiv = document.querySelector(".range-values");
  rangeValueDiv.style.left = rangeValuePosition + '%';
  
  // Set the value of the range value text
  rangeValue.innerText = rangeBar.value;
});

rangeValue.innerHTML = rangeBar.value + ' mA'; // set initial value

rangeBar.oninput = function() {
	rangeValue.innerHTML = this.value + ' mA'; // update value with unit
}


const editableP = document.querySelector('p[contenteditable="true"]');
//const contents = editableP.textContent;
function editHeading(id) {
  const heading = document.querySelector(`#${id}`);
  let newHeadingText = prompt('Enter new heading text:');
  newHeadingText = newHeadingText.toUpperCase();
  heading.textContent = newHeadingText;
}
 </script>  
</ons-page>
